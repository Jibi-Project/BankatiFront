<div class="col-md-12 d-flex justify-content-center">
  <div class="card card-container p-4 shadow-lg" style="max-width: 500px; border-radius: 10px; background-color: #ffffff; border: 1px solid #114d88;">
    <!-- Profile Image (optional) -->
    <div class="text-center mb-4">
      <img
        id="profile-img"
        src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
        class="profile-img-card"
        alt="Profile Image"
        style="border-radius: 50%; border: 3px solid #0574a0; width: 100px; height: 100px;"
      />
    </div>

    <!-- Registration Form -->
    <form (ngSubmit)="handleSubmit()" name="form" #f="ngForm" novalidate>
      <!-- Name Field -->
      <div class="form-group mb-3">
        <label for="name" class="form-label" style="color: #0574a0;">Nom</label>
        <input
          type="text"
          class="form-control"
          name="name"
          [(ngModel)]="formData.nom"
          required
          minlength="3"
          maxlength="20"
          #name="ngModel"
          style="border-radius: 5px; border: 1px solid #0574a0;"
        />
        <div class="alert alert-danger mt-2" *ngIf="f.submitted && name.invalid">
          <div *ngIf="name.errors?.['required']">Le nom est requis</div>
          <div *ngIf="name.errors?.['minlength']">Le nom doit contenir au moins 3 caractères</div>
          <div *ngIf="name.errors?.['maxlength']">Le nom doit contenir au maximum 20 caractères</div>
        </div>
      </div>

      <!-- Email Field -->
      <div class="form-group mb-3">
        <label for="email" class="form-label" style="color: #0574a0;">Email</label>
        <input
          type="email"
          class="form-control"
          name="email"
          [(ngModel)]="formData.email"
          required
          #email="ngModel"
          style="border-radius: 5px; border: 1px solid #0574a0;"
        />
        <div class="alert alert-danger mt-2" *ngIf="f.submitted && email.invalid">
          <div *ngIf="email.errors?.['required']">L'email est requis</div>
          <div *ngIf="email.errors?.['email']">L'email doit être une adresse valide</div>
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-group mb-3">
        <label for="password" class="form-label" style="color: #0574a0;">Mot de passe</label>
        <input
          type="password"
          class="form-control"
          name="password"
          [(ngModel)]="formData.password"
          required
          minlength="6"
          #password="ngModel"
          style="border-radius: 5px; border: 1px solid #0574a0;"
        />
        <div class="alert alert-danger mt-2" *ngIf="f.submitted && password.invalid">
          <div *ngIf="password.errors?.['required']">Le mot de passe est requis</div>
          <div *ngIf="password.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères</div>
        </div>
      </div>

      <!-- Role Selection -->
      <div class="form-group mb-3">
        <label for="role" class="form-label" style="color: #0574a0;">Rôle</label>
        <select
          class="form-control"
          name="role"
          [(ngModel)]="formData.role"
          required
          #role="ngModel"
          style="border-radius: 5px; border: 1px solid #0574a0;"
        >
          <option value="">Sélectionner le rôle</option>
          <option value="ADMIN">ADMIN</option>
          <option value="USER">USER</option>
        </select>
        <div class="alert alert-danger mt-2" *ngIf="f.submitted && role.invalid">
          <div *ngIf="role.errors?.['required']">Le rôle est requis</div>
        </div>
      </div>

      <!-- City Field -->
      <div class="form-group mb-3">
        <label for="city" class="form-label" style="color: #0574a0;">Ville</label>
        <input
          type="text"
          class="form-control"
          name="city"
          [(ngModel)]="formData.adresse"
          required
          #city="ngModel"
          style="border-radius: 5px; border: 1px solid #0574a0;"
        />
        <div class="alert alert-danger mt-2" *ngIf="f.submitted && city.invalid">
          <div *ngIf="city.errors?.['required']">La ville est requise</div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="d-flex mb-3">
        <div class="me-2 flex-fill">
          <button
            type="submit"
            class="btn"
            style="background-color: #0574a0; color: white; border-radius: 5px; width: 100%;"
          >
            S'inscrire
          </button>
        </div>
      </div>

      <!-- Error Message -->
      <div class="alert alert-warning mt-3" *ngIf="f.submitted && isSignUpFailed">
        L'inscription a échoué!<br />{{ errorMessage }}
      </div>

      <!-- Success Message -->
      <div class="alert alert-success mt-4" *ngIf="isSuccessful">
        Votre inscription a été réussie!
      </div>
    </form>

    <!-- Back to Login Button -->
    <div class="d-flex justify-content-center mt-3">
      <a href="/login" class="btn btn-outline-primary" style="border-radius: 5px; color: #114d88; border: 1px solid #0574a0; width: 100%;">Retour à la connexion</a>
    </div>
  </div>
</div>
